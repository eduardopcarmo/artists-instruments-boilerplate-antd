{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\artists-instruments-boilerplate-antd\\\\client\\\\src\\\\components\\\\buttons\\\\RemoveArtist.js\";\nimport React from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { filter } from 'lodash';\nimport { GET_ARTISTS, REMOVE_ARTIST } from '../../queries';\nimport { DeleteOutlined } from '@ant-design/icons';\n\nconst RemoveArtist = ({\n  id,\n  firstName,\n  lastName\n}) => {\n  const [removeArtist] = useMutation(REMOVE_ARTIST, {\n    update(proxy, {\n      data: {\n        removeArtist\n      }\n    }) {\n      const {\n        artists\n      } = proxy.readQuery({\n        query: GET_ARTISTS\n      });\n      proxy.writeQuery({\n        query: GET_ARTISTS,\n        data: {\n          artists: filter(artists, c => {\n            return c.id !== removeArtist.id;\n          })\n        }\n      });\n    }\n\n  });\n\n  const handleButtonClick = () => {\n    let result = window.confirm('Are you sure you want to delete this artist?');\n\n    if (result) {\n      removeArtist({\n        variables: {\n          id\n        },\n        optimisticResponse: {\n          __typename: 'Mutation',\n          removeArtist: {\n            __typename: 'Artist',\n            id,\n            firstName,\n            lastName\n          }\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(DeleteOutlined, {\n    key: \"delete\",\n    onClick: handleButtonClick,\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  });\n};\n\nexport default RemoveArtist;","map":{"version":3,"sources":["D:/Projects/artists-instruments-boilerplate-antd/client/src/components/buttons/RemoveArtist.js"],"names":["React","useMutation","filter","GET_ARTISTS","REMOVE_ARTIST","DeleteOutlined","RemoveArtist","id","firstName","lastName","removeArtist","update","proxy","data","artists","readQuery","query","writeQuery","c","handleButtonClick","result","window","confirm","variables","optimisticResponse","__typename","color"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,WAAT,EAAsBC,aAAtB,QAA2C,eAA3C;AACA,SAASC,cAAT,QAA+B,mBAA/B;;AAEA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA,EAAF;AAAMC,EAAAA,SAAN;AAAiBC,EAAAA;AAAjB,CAAD,KAAiC;AACpD,QAAM,CAACC,YAAD,IAAiBT,WAAW,CAACG,aAAD,EAAgB;AAChDO,IAAAA,MAAM,CAACC,KAAD,EAAQ;AAAEC,MAAAA,IAAI,EAAE;AAAEH,QAAAA;AAAF;AAAR,KAAR,EAAoC;AACxC,YAAM;AAAEI,QAAAA;AAAF,UAAcF,KAAK,CAACG,SAAN,CAAgB;AAAEC,QAAAA,KAAK,EAAEb;AAAT,OAAhB,CAApB;AACAS,MAAAA,KAAK,CAACK,UAAN,CAAiB;AACfD,QAAAA,KAAK,EAAEb,WADQ;AAEfU,QAAAA,IAAI,EAAE;AACJC,UAAAA,OAAO,EAAEZ,MAAM,CAACY,OAAD,EAAUI,CAAC,IAAI;AAC5B,mBAAOA,CAAC,CAACX,EAAF,KAASG,YAAY,CAACH,EAA7B;AACD,WAFc;AADX;AAFS,OAAjB;AAQD;;AAX+C,GAAhB,CAAlC;;AAaA,QAAMY,iBAAiB,GAAG,MAAM;AAC9B,QAAIC,MAAM,GAAGC,MAAM,CAACC,OAAP,CAAe,8CAAf,CAAb;;AACA,QAAIF,MAAJ,EAAY;AACVV,MAAAA,YAAY,CAAC;AACXa,QAAAA,SAAS,EAAE;AACThB,UAAAA;AADS,SADA;AAIXiB,QAAAA,kBAAkB,EAAE;AAClBC,UAAAA,UAAU,EAAE,UADM;AAElBf,UAAAA,YAAY,EAAE;AACZe,YAAAA,UAAU,EAAE,QADA;AAEZlB,YAAAA,EAFY;AAGZC,YAAAA,SAHY;AAIZC,YAAAA;AAJY;AAFI;AAJT,OAAD,CAAZ;AAcD;AACF,GAlBD;;AAmBA,sBACE,oBAAC,cAAD;AACE,IAAA,GAAG,EAAC,QADN;AAEE,IAAA,OAAO,EAAEU,iBAFX;AAGE,IAAA,KAAK,EAAE;AAAEO,MAAAA,KAAK,EAAE;AAAT,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAOD,CAxCD;;AA0CA,eAAepB,YAAf","sourcesContent":["import React from 'react'\r\nimport { useMutation } from '@apollo/react-hooks'\r\nimport { filter } from 'lodash'\r\nimport { GET_ARTISTS, REMOVE_ARTIST } from '../../queries'\r\nimport { DeleteOutlined } from '@ant-design/icons'\r\n\r\nconst RemoveArtist = ({ id, firstName, lastName }) => {\r\n  const [removeArtist] = useMutation(REMOVE_ARTIST, {\r\n    update(proxy, { data: { removeArtist } }) {\r\n      const { artists } = proxy.readQuery({ query: GET_ARTISTS })\r\n      proxy.writeQuery({\r\n        query: GET_ARTISTS,\r\n        data: {\r\n          artists: filter(artists, c => {\r\n            return c.id !== removeArtist.id\r\n          })\r\n        }\r\n      })\r\n    }\r\n  })\r\n  const handleButtonClick = () => {\r\n    let result = window.confirm('Are you sure you want to delete this artist?')\r\n    if (result) {\r\n      removeArtist({\r\n        variables: {\r\n          id\r\n        },\r\n        optimisticResponse: {\r\n          __typename: 'Mutation',\r\n          removeArtist: {\r\n            __typename: 'Artist',\r\n            id,\r\n            firstName,\r\n            lastName\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n  return (\r\n    <DeleteOutlined\r\n      key='delete'\r\n      onClick={handleButtonClick}\r\n      style={{ color: 'red' }}\r\n    />\r\n  )\r\n}\r\n\r\nexport default RemoveArtist\r\n"]},"metadata":{},"sourceType":"module"}